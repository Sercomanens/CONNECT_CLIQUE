<div class="container">
  <p><strong>Name:</strong> <%= @activity.name %></p>
  <p><strong>Description:</strong> <%= @activity.description %></p>
  <p><strong>Address:</strong> <%= @activity.address %></p>

  <!-- Display each date option with its corresponding time -->
  <p><strong>Date 1:</strong> <%= @activity.date_1 %> <strong>at </strong> <%= @activity.time_1.present? ? @activity.time_1.strftime("%H:%M %p") : 'Time not set' %></p>
  <p><strong>Date 2:</strong> <%= @activity.date_2 %> <strong>at </strong> <%= @activity.time_2.present? ? @activity.time_2.strftime("%H:%M %p") : 'Time not set' %></p>
  <p><strong>Date 3:</strong> <%= @activity.date_3 %> <strong>at </strong><%= @activity.time_3.present? ? @activity.time_3.strftime("%H:%M %p") : 'Time not set' %></p>

  <!-- Display the winning/most voted date -->
  <p>
    <strong>Date of Activity:</strong>
    <% if @activity.winning_date.present? %>
      <span class="text-success"><%= @activity.winning_date %> âœ…</span>
    <% else %>
      <span>No votes yet</span>
    <% end %>
  </p>

  <!-- Display time details -->
  <% if @activity.start_time.present? && @activity.end_time.present? %>
    <p>
      <strong>Time of Activity:</strong>
      <%= @activity.start_time.strftime("%H:%M %p") %> - <%= @activity.end_time.strftime("%H:%M %p") %>
    </p>
  <% else %>
    <p><strong>Time of Activity:</strong> No votes yet</p>
  <% end %>

  <!-- Edit and Vote links -->
  <% if policy(@activity).edit? %>
    <%= link_to 'Edit', edit_activity_path(@activity) %> |
  <% end %>
  <%= link_to 'Back', activities_path %> |

  <!-- Show Vote button if voting is still open -->
  <% if current_user == @activity.user && !@activity.voting_closed %>
    <%= link_to 'Vote', new_activity_vote_path(@activity) %>
    <%= button_to 'Close Voting', close_voting_activity_path(@activity), method: :post, class: 'btn1' %>
  <% end %>

  <!-- Map display -->
  <div id="map" style="width: 100%; height: 600px;"
    data-controller="map"
    data-map-markers-value="<%= @markers.to_json %>"
    data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"></div>
</div>
